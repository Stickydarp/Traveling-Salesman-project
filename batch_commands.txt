# Batch commands for collecting TSP timing data
# Usage: run these lines in a shell (or place into your cluster's batch script)
# Adjust --min-n/--max-n/--runs/--seed and core counts as needed.

# 1) Compile (run once)
mpicc -O2 -o main main.c -lm

# 2) Run sequential baseline (overwrite CSV) for n=5..9, 3 runs each
mpirun -np 1 ./main --min-n=5 --max-n=9 --step=1 --runs=3 --csv=tsp_results.csv --overwrite --seed=12345 --random --seq

# 3) Parallel runs (append to same CSV). Use same seed so datasets match.
mpirun -np 2 ./main --min-n=5 --max-n=9 --step=1 --runs=3 --csv=tsp_results.csv --seed=12345 --random
mpirun -np 4 ./main --min-n=5 --max-n=9 --step=1 --runs=3 --csv=tsp_results.csv --seed=12345 --random
mpirun -np 8 ./main --min-n=5 --max-n=9 --step=1 --runs=3 --csv=tsp_results.csv --seed=12345 --random

# 4) (Optional) Larger core counts â€” uncomment / edit if available
# mpirun -np 16 ./main --min-n=5 --max-n=9 --step=1 --runs=3 --csv=tsp_results.csv --seed=12345 --random

# 5) (Optional) If you want to sweep a larger n range but fewer runs:
# mpirun -np 4 ./main --min-n=5 --max-n=11 --step=1 --runs=1 --csv=tsp_results.csv --seed=12345 --random

# Notes:
# - The first command creates/overwrites `tsp_results.csv` with headers.
# - Subsequent commands will append results.
# - For reproducible comparisons between different core counts, keep the same --seed and --random flag.
# - Beware: brute-force TSP grows factorially; n>10 may take very long or run out of memory.
# - If you prefer a single-line batch file (no comments), remove lines starting with '#'.
